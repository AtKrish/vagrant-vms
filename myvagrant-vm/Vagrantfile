Vagrant.configure("2") do |config|

  # Box name
  config.vm.box = "eurolinux-vagrant/centos-stream-9"

  # Private network - must match VirtualBox Host-Only adapter (192.168.56.x)
  config.vm.network "private_network", ip: "192.168.56.17"

  # Bridged network - matches your WiFi adapter
  config.vm.network "private_network", type: "dhcp"

  # Synced folder
  config.vm.synced_folder "./scripts", "/home/vagrant/scripts", type: "rsync"

  # VirtualBox provider settings
  config.vm.provider "virtualbox" do |vb|
    vb.name   = "my-centos-vm"
    vb.memory = 1024
    vb.cpus   = 2
  end

  # Provision script
  config.vm.provision "shell", inline: <<-SHELL
    sudo dnf update -y
    sudo dnf install -y httpd
    sudo systemctl enable httpd
    sudo systemctl start httpd

    free -m > /home/vagrant/memory_info.txt
    df -h > /home/vagrant/disk_info.txt
  SHELL

end
